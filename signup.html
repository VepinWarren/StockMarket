<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Sign Up • CodeWithVepin</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root{
            --bg:#0b0b0c;
            --card:#121214cc;
            --gold:#ffd166;
            --muted:#b9b9b9;
            --ring:rgba(255,209,102,.35);
            --ok:#35d399;
            --warn:#ff8a5c;
        }
        *{box-sizing:border-box}
        body{
            margin:0; font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial;
            background: radial-gradient(1000px 520px at -10% 10%, #1b1b1b 0%, transparent 60%),
                radial-gradient(900px 500px at 110% 0%, #242424 0%, transparent 60%),
                var(--bg);
            color:#eee; min-height:100svh; display:grid; place-items:center; overflow:hidden;
        }
        .orbs{position:fixed; inset:0; pointer-events:none; z-index:-1; filter:blur(40px) saturate(120%)}
        .orb{position:absolute; width:230px; height:230px; border-radius:999px;
            background:radial-gradient(circle at 30% 30%, var(--gold), rgba(255,209,102,.15));
            opacity:.25; animation:float 13s ease-in-out infinite}
        .orb:nth-child(1){top:12%; left:12%}
        .orb:nth-child(2){bottom:12%; right:10%; animation-delay:2.2s}
        .orb:nth-child(3){top:58%; left:65%; animation-delay:4.4s}
        @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-22px)}}

        .wrap{width:min(460px, 92vw)}
        .brand{ text-align:center; margin-bottom:18px}
        .brand a{color:var(--gold); text-decoration:none; font-weight:700}
        .card{
            background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02)) , var(--card);
            border:1px solid rgba(255,255,255,.08);
            box-shadow: 0 10px 40px rgba(0,0,0,.55), 0 0 0 8px rgba(255,209,102,.03);
            backdrop-filter: blur(8px);
            border-radius:24px; padding:28px;
            animation:pop .5s ease both;
        }
        @keyframes pop{from{opacity:0; transform:translateY(10px) scale(.98)} to{opacity:1; transform:translateY(0) scale(1)}}
        h1{margin:0 0 6px; font-size:1.8rem; color:var(--gold); text-align:center}
        p.sub{margin:0 0 20px; text-align:center; color:var(--muted); font-size:.95rem}

        label{display:block; font-weight:600; margin:14px 0 8px}
        .input{
            display:flex; align-items:center; gap:10px;
            background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12);
            border-radius:14px; padding:12px 14px; transition:.25s;
        }
        .input:focus-within{border-color:var(--gold); box-shadow:0 0 0 6px var(--ring)}
        .input input{
            width:100%; background:transparent; border:none; outline:none; color:#fff; font-size:1rem;
        }
        .row-2{display:flex; gap:12px}
        .row-2 > div{flex:1}

        .pill{
            display:inline-block; margin-top:8px; font-size:.8rem; padding:6px 10px; border-radius:999px;
            background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); color:#ddd;
        }
        .meter{height:8px; border-radius:999px; background:rgba(255,255,255,.1); margin-top:8px; overflow:hidden}
        .meter>span{display:block; height:100%; width:0%; background:linear-gradient(90deg, #ff6a6a, var(--warn), var(--ok)); transition:width .3s}

        .btn{
            width:100%; margin-top:16px; padding:12px 16px; font-weight:700; border:none; cursor:pointer;
            background:linear-gradient(90deg, #ffe39d, #ffcc66, #ffbf40);
            color:#1a1a1a; border-radius:16px; transition:transform .15s ease, box-shadow .2s ease;
            box-shadow:0 10px 24px rgba(255,209,102,.2);
        }
        .btn:hover{transform:translateY(-2px)}
        .btn:active{transform:translateY(0)}

        .switch{text-align:center; margin-top:14px; color:#dcdcdc}
        .switch a{color:var(--gold); text-decoration:none; font-weight:600}
        small.note{display:block; margin-top:10px; color:#9a9a9a; text-align:center}
    </style>
</head>
<body>
    <div class="orbs"><div class="orb"></div><div class="orb"></div><div class="orb"></div></div>

    <div class="wrap">
        <div class="brand"><a href="index.html">← Back to Home</a></div>
        <div class="card">
            <h1>Create Account</h1>
            <p class="sub">Join <strong>CodeWithVepin</strong> and start your premium learning journey.</p>

            <form id="signupForm" novalidate>
                <div class="row-2">
                    <div>
                        <label for="firstName">First name</label>
                        <div class="input"><input id="firstName" type="text" placeholder="Vepin" required></div>
                    </div>
                    <div>
                        <label for="lastName">Last name</label>
                        <div class="input"><input id="lastName" type="text" placeholder="Kumar" required></div>
                    </div>
                </div>

                <label for="email">Email</label>
                <div class="input"><input id="email" type="email" placeholder="you@example.com" required></div>

                <label for="password">Password</label>
                <div class="input"><input id="password" type="password" placeholder="Min 6 characters" required minlength="6"></div>
                <div class="meter"><span id="pwBar"></span></div>
                <span class="pill" id="pwHint">Strength: Weak</span>

                <label for="confirm">Confirm password</label>
                <div class="input"><input id="confirm" type="password" placeholder="Re-enter password" required></div>

                <button class="btn" type="submit">Create account</button>
                <div class="switch">Already have an account? <a href="login.html">Log in</a></div>
                <small class="note">Demo UI only. For real auth, we’ll connect Firebase/Django later.</small>
            </form>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-auth.js";
    
        const firebaseConfig = {
            apiKey: "AIzaSyAHgDBJXSKPfOf7nt7ulDo-bFyI5Bjqr_Y",
            authDomain: "codewithvepin.firebaseapp.com",
            projectId: "codewithvepin",
            storageBucket: "codewithvepin.firebasestorage.app",
            messagingSenderId: "387688543672",
            appId: "1:387688543672:web:1fa49f378c9c41fe548b4d",
            measurementId: "G-55QMS5W4Y0"
        };
    
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
    
        // Password strength meter logic (remains the same)
        const pw = document.getElementById('password');
        const bar = document.getElementById('pwBar');
        const hint = document.getElementById('pwHint');
    
        function strengthScore(v) {
            let s = 0;
            if (v.length >= 6) s++;
            if (/[A-Z]/.test(v)) s++;
            if (/[0-9]/.test(v)) s++;
            if (/[^A-Za-z0-9]/.test(v)) s++;
            if (v.length >= 10) s++;
            return Math.min(s, 4); // 0..4
        }
        
        pw.addEventListener('input', () => {
            const v = pw.value;
            const s = strengthScore(v);
            const pct = [10, 35, 65, 85, 100][s];
            bar.style.width = pct + '%';
            const labels = ['Very Weak', 'Weak', 'Okay', 'Strong', 'Elite'];
            hint.textContent = 'Strength: ' + labels[s];
        });
    
        // Firebase signup logic
        const form = document.getElementById('signupForm');
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirm').value;
    
            if (password !== confirmPassword) {
                alert('Passwords do not match.');
                return;
            }
    
            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    alert("Account created successfully!");
                    window.location.href = 'login.html';
                })
                .catch((error) => {
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    alert(`Signup failed: ${errorMessage}`);
                    console.error("Signup Error:", errorCode, errorMessage);
                });
        });
    </script>
</body>
</html>