<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Login • CodeWithVepin</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root{
            --bg:#0b0b0c;
            --card:#121214cc; /* glass dark */
            --gold:#ffd166;
            --muted:#b9b9b9;
            --ring:rgba(255,209,102,.35);
        }
        *{box-sizing:border-box}
        body{
            margin:0; font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial;
            background: radial-gradient(1200px 600px at 20% -10%, #1a1a1a 0%, transparent 60%),
                radial-gradient(900px 500px at 120% 10%, #202020 0%, transparent 60%),
                var(--bg);
            color:#eee; min-height:100svh; display:grid; place-items:center; overflow:hidden;
        }
        /* floating gold orbs */
        .orbs{position:fixed; inset:0; pointer-events:none; z-index:-1; filter:blur(40px) saturate(120%)}
        .orb{position:absolute; width:220px; height:220px; border-radius:999px;
            background:radial-gradient(circle at 30% 30%, var(--gold), rgba(255,209,102,.15));
            opacity:.25; animation:float 12s ease-in-out infinite}
        .orb:nth-child(1){top:8%; left:10%}
        .orb:nth-child(2){bottom:10%; right:12%; animation-delay:2s}
        .orb:nth-child(3){top:50%; left:65%; animation-delay:4s}
        @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-22px)}}

        .wrap{width:min(420px, 92vw)}
        .brand{
            text-align:center; margin-bottom:18px;
        }
        .brand a{color:var(--gold); text-decoration:none; font-weight:700; letter-spacing:.5px}
        .card{
            background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)) , var(--card);
            border:1px solid rgba(255,255,255,.08);
            box-shadow: 0 10px 40px rgba(0,0,0,.55), 0 0 0 8px rgba(255,209,102,.03);
            backdrop-filter: blur(8px);
            border-radius:24px; padding:28px;
            animation:pop .5s ease both;
        }
        @keyframes pop{from{opacity:0; transform:translateY(10px) scale(.98)} to{opacity:1; transform:translateY(0) scale(1)}}
        h1{margin:0 0 6px; font-size:1.8rem; color:var(--gold); text-align:center}
        p.sub{margin:0 0 20px; text-align:center; color:var(--muted); font-size:.95rem}

        label{display:block; font-weight:600; margin:14px 0 8px}
        .input{
            display:flex; align-items:center; gap:10px;
            background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12);
            border-radius:14px; padding:12px 14px; transition:.25s;
        }
        .input:focus-within{border-color:var(--gold); box-shadow:0 0 0 6px var(--ring)}
        .input input{
            width:100%; background:transparent; border:none; outline:none; color:#fff; font-size:1rem;
        }
        .row{display:flex; justify-content:space-between; align-items:center; gap:10px; margin-top:10px}
        .row a{color:var(--gold); text-decoration:none; font-size:.9rem}
        .check{display:flex; align-items:center; gap:8px; color:#ddd; font-size:.9rem}
        .btn{
            width:100%; margin-top:16px; padding:12px 16px; font-weight:700; border:none; cursor:pointer;
            background:linear-gradient(90deg, #ffe39d, #ffcc66, #ffbf40);
            color:#1a1a1a; border-radius:16px; transition:transform .15s ease, box-shadow .2s ease;
            box-shadow:0 10px 24px rgba(255,209,102,.2);
        }
        .btn:hover{transform:translateY(-2px)}
        .btn:active{transform:translateY(0)}
        .sep{display:flex; align-items:center; gap:10px; margin:18px 0}
        .sep span{flex:1; height:1px; background:rgba(255,255,255,.1)}
        .oauth{display:grid; gap:10px}
        .btn-alt{
            width:100%; padding:10px 14px; border-radius:14px; border:1px solid rgba(255,255,255,.12);
            background:rgba(255,255,255,.04); color:#fff; cursor:pointer; font-weight:600;
            transition:.25s;
        }
        .btn-alt:hover{border-color:var(--gold); box-shadow:0 0 0 6px var(--ring)}
        .switch{text-align:center; margin-top:14px; color:#dcdcdc}
        .switch a{color:var(--gold); text-decoration:none; font-weight:600}
        small.note{display:block; margin-top:10px; color:#9a9a9a; text-align:center}
    </style>
</head>
<body>
    <div class="orbs"><div class="orb"></div><div class="orb"></div><div class="orb"></div></div>

    <div class="wrap">
        <div class="brand"><a href="index.html">← Back to Home</a></div>
        <div class="card">
            <h1>Welcome Back</h1>
            <p class="sub">Log in to continue learning at <strong>CodeWithVepin</strong>.</p>

            <form id="loginForm" novalidate>
                <label for="loginEmail">Email</label>
                <div class="input">
                    <input id="loginEmail" type="email" placeholder="you@example.com" required />
                </div>

                <label for="loginPass">Password</label>
                <div class="input">
                    <input id="loginPass" type="password" placeholder="••••••••" required minlength="6"/>
                </div>

                <div class="row">
                    <label class="check">
                        <input type="checkbox" id="rememberMe"> Remember me
                    </label>
                    <a href="#" onclick="alert('Demo only');return false;">Forgot password?</a>
                </div>

                <button class="btn" type="submit">Login</button>

                <div class="sep"><span></span><div style="color:#aaa;font-size:.9rem">or</div><span></span></div>
                <div class="oauth">
                    <button class="btn-alt" type="button" id="googleLoginBtn">Continue with Google</button>
                    <button class="btn-alt" type="button" id="githubLoginBtn">Continue with GitHub</button>
                </div>

                <div class="switch">New here? <a href="signup.html">Create an account</a></div>
                <small class="note">Demo UI only. For real auth, we can plug in Firebase/Django later.</small>
            </form>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
        import { 
            getAuth, 
            signInWithEmailAndPassword, 
            GoogleAuthProvider, 
            GithubAuthProvider, 
            signInWithPopup 
        } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-auth.js";
    
        const firebaseConfig = {
            apiKey: "AIzaSyAHgDBJXSKPfOf7nt7ulDo-bFyI5Bjqr_Y",
            authDomain: "codewithvepin.firebaseapp.com",
            projectId: "codewithvepin",
            storageBucket: "codewithvepin.firebasestorage.app",
            messagingSenderId: "387688543672",
            appId: "1:387688543672:web:1fa49f378c9c41fe548b4d",
            measurementId: "G-55QMS5W4Y0"
        };
    
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
    
        const form = document.getElementById('loginForm');
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPass').value;
    
            signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    alert("Login successful!");
                    window.location.href = 'index.html';
                })
                .catch((error) => {
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    alert(`Login failed: ${errorMessage}`);
                    console.error("Login Error:", errorCode, errorMessage);
                });
        });
    
        // Social Login Handlers
        const googleLoginBtn = document.getElementById('googleLoginBtn');
        const githubLoginBtn = document.getElementById('githubLoginBtn');
    
        googleLoginBtn.addEventListener('click', () => {
            const provider = new GoogleAuthProvider();
            signInWithPopup(auth, provider)
                .then((result) => {
                    alert("Google login successful!");
                    window.location.href = 'index.html';
                })
                .catch((error) => {
                    alert(`Google login failed: ${error.message}`);
                    console.error("Google Login Error:", error);
                });
        });
    
        githubLoginBtn.addEventListener('click', () => {
            const provider = new GithubAuthProvider();
            signInWithPopup(auth, provider)
                .then((result) => {
                    alert("GitHub login successful!");
                    window.location.href = 'index.html';
                })
                .catch((error) => {
                    alert(`GitHub login failed: ${error.message}`);
                    console.error("GitHub Login Error:", error);
                });
        });
    </script>
</body>
</html>